source("~/HDProjects/ChukchiCruise23/code/figures_finalized_code/fig4_boxplot_flux_by_ice/src/figure4_boxplots.R", echo=TRUE)
View(flux_grad)
View(flux_grad_wcOnly)
setwd("~/HDProjects/ChukchiCruise23/code/figures_finalized_code/fig5_regression_flux_gradient/src")
source("~/HDProjects/ChukchiCruise23/code/figures_finalized_code/fig5_regression_flux_gradient/src/figure5_regression_plots.R", echo=TRUE)
setwd("~/HDProjects/ChukchiCruise23/code/figures_finalized_code/fig6_regression_flux_noFront/src")
source("~/HDProjects/ChukchiCruise23/code/figures_finalized_code/fig6_regression_flux_noFront/src/figure6_nonFront_biomass_regressions.R", echo=TRUE)
setwd("~/HDProjects/ChukchiCruise23/code/figures_finalized_code/fig7_boxplot_flux_by_front/src")
source("~/HDProjects/ChukchiCruise23/code/figures_finalized_code/fig7_boxplot_flux_by_front/src/figure7_frontBoxplots.R", echo=TRUE)
library(tidyverse)
data <- read_csv('../../data_general/processed_data/all_trap_data_for_figs_3_4_5_6_7.csv')
data_wcOnly <- filter(flux_grad, depth >= 8)
data_slim <- flux_grad %>%
mean_by_ice <-
mean_by_ice_iceTethered_separate
View(data)
colnames(data)
data_slim <- flux_grad %>%
select(Sample_Number, Deployment, depthCat, transect, iceObs,
average_drift_speed_km_hr, average_drift_speed_cm_s, LateralDensityGrad,
dichlMean_full_waterCol_mg_m2, dipoc_full_waterCol_mg_m2, dipon_full_waterCol_mg_m2,
fluxChl, fluxPhaeo, fluxC, fluxN, CNratio,)
data_slim <- data %>%
select(Sample_Number, Deployment, depthCat, transect, iceObs,
average_drift_speed_km_hr, average_drift_speed_cm_s, LateralDensityGrad,
dichlMean_full_waterCol_mg_m2, dipoc_full_waterCol_mg_m2, dipon_full_waterCol_mg_m2,
fluxChl, fluxPhaeo, fluxC, fluxN, CNratio,)
View(data_slim)
data_slim <- data %>%
select(Sample_Number, Deployment, depthCat, transect, iceObs,
average_drift_speed_km_hr, average_drift_speed_cm_s, LateralDensityGrad,
dichlMean_full_waterCol_mg_m2, dipoc_full_waterCol_mg_m2, dipon_full_waterCol_mg_m2,
fluxChl, fluxPhaeo, fluxC, fluxN, CNratio)
mean_by_ice <- mean_sd_by_ice <- data_slim %>%
group_by(iceObs) %>%
summarise(across(
c(LateralDensityGrad,
dichlMean_full_waterCol_mg_m2, dipoc_full_waterCol_mg_m2, dipon_full_waterCol_mg_m2,
fluxChl, fluxPhaeo, fluxC, fluxN, CNratio),
list(mean = ~mean(.x, na.rm = TRUE),
sd = ~sd(.x, na.rm = TRUE)),
.names = "{.col}_{.fn}"
))
View(mean_by_ice)
data_slim_wcOnly <- filter(data_slim, depth >= 8)
data_slim <- data %>%
select(Sample_Number, Deployment, depth, depthCat, transect, iceObs,
average_drift_speed_km_hr, average_drift_speed_cm_s, LateralDensityGrad,
dichlMean_full_waterCol_mg_m2, dipoc_full_waterCol_mg_m2, dipon_full_waterCol_mg_m2,
fluxChl, fluxPhaeo, fluxC, fluxN, CNratio)
data_slim_wcOnly <- filter(data_slim, depth >= 8)
mean_by_ice <- mean_sd_by_ice <- data_slim %>%
group_by(iceObs) %>%
summarise(across(
c(LateralDensityGrad, depth,
dichlMean_full_waterCol_mg_m2, dipoc_full_waterCol_mg_m2, dipon_full_waterCol_mg_m2,
fluxChl, fluxPhaeo, fluxC, fluxN, CNratio),
list(mean = ~mean(.x, na.rm = TRUE),
sd = ~sd(.x, na.rm = TRUE)),
.names = "{.col}_{.fn}"
))
mean_by_ice_iceTethered_separate <- data_slim
mean_by_front
data_slim_tetheredOnly <- filter(data_slim, depth < 8)
View(mean_by_ice_iceTethered_separate)
View(data_slim_tetheredOnly)
mean_by_ice_tetheredOnly <- data_slim_tetheredOnly %>%
group_by(iceObs) %>%
summarise(across(
c(LateralDensityGrad, depth,
dichlMean_full_waterCol_mg_m2, dipoc_full_waterCol_mg_m2, dipon_full_waterCol_mg_m2,
fluxChl, fluxPhaeo, fluxC, fluxN, CNratio),
list(mean = ~mean(.x, na.rm = TRUE),
sd = ~sd(.x, na.rm = TRUE)),
.names = "{.col}_{.fn}"
))
View(mean_by_ice_tetheredOnly)
View(mean_by_ice_iceTethered_separate)
mean_by_ice_wcOnly <- data_slim_wcOnly %>%
group_by(iceObs) %>%
summarise(across(
c(LateralDensityGrad, depth,
dichlMean_full_waterCol_mg_m2, dipoc_full_waterCol_mg_m2, dipon_full_waterCol_mg_m2,
fluxChl, fluxPhaeo, fluxC, fluxN, CNratio),
list(mean = ~mean(.x, na.rm = TRUE),
sd = ~sd(.x, na.rm = TRUE)),
.names = "{.col}_{.fn}"
))
mean_by_ice_tetheredOnly <- data_slim_tetheredOnly %>%
group_by(iceObs) %>%
summarise(across(
c(LateralDensityGrad, depth,
dichlMean_full_waterCol_mg_m2, dipoc_full_waterCol_mg_m2, dipon_full_waterCol_mg_m2,
fluxChl, fluxPhaeo, fluxC, fluxN, CNratio),
list(mean = ~mean(.x, na.rm = TRUE),
sd = ~sd(.x, na.rm = TRUE)),
.names = "{.col}_{.fn}"
))
source("~/HDProjects/ChukchiCruise23/code/figures_finalized_code/summary_statistics/src/compute_means_for_reporting.R", echo=TRUE)
View(mean_by_ice_wcOnly)
View(mean_by_ice_tetheredOnly)
data$inFront
ifelse(inFront == T, 'Front', 'Out of Front'))
mean_by_front <- data_slim %>%
mutate(front = ifelse(depthCat == 'iceTethered', 'Ice-Tethered',
ifelse(inFront == T, 'Front', 'Out of Front')))%>%
group_by(front)%>%
summarise(across(
c(LateralDensityGrad, depth,
dichlMean_full_waterCol_mg_m2, dipoc_full_waterCol_mg_m2, dipon_full_waterCol_mg_m2,
fluxChl, fluxPhaeo, fluxC, fluxN, CNratio),
list(mean = ~mean(.x, na.rm = TRUE),
sd = ~sd(.x, na.rm = TRUE)),
.names = "{.col}_{.fn}"
))
source("~/HDProjects/ChukchiCruise23/code/figures_finalized_code/summary_statistics/src/compute_means_for_reporting.R", echo=TRUE)
View(data)
#### Tables 1 and 2 ####
table_data <- data %>%
left_join(., trap_metadata)%>%
select(Deployment, Trap_Depth, depthCat,
LATITUDE, LONGITUDE,
Deploy_Date_Local, Recover_Date_Local,
iceObsRecover, LateralDensityGrad,
fluxChl, fluxC, fluxN)%>%
mutate(depthCat_simple = ifelse(depthCat %in% c('shallow', 'iceTethered'), 'Shallow', 'Deep'),
.keep = 'unused')%>%
pivot_wider(names_from = depthCat_simple,
values_from = c(LATITUDE, LONGITUDE, Trap_Depth, LateralDensityGrad, fluxChl, fluxC, fluxN))
#### Tables 1 and 2 ####
table_data <- data %>%
# left_join(., trap_metadata)%>%
select(Deployment, Trap_Depth, depthCat,
LATITUDE, LONGITUDE,
Deploy_Date_Local, Recover_Date_Local,
iceObsRecover, LateralDensityGrad,
fluxChl, fluxC, fluxN)%>%
mutate(depthCat_simple = ifelse(depthCat %in% c('shallow', 'iceTethered'), 'Shallow', 'Deep'),
.keep = 'unused')%>%
pivot_wider(names_from = depthCat_simple,
values_from = c(LATITUDE, LONGITUDE, Trap_Depth, LateralDensityGrad, fluxChl, fluxC, fluxN))
data <- read_csv('../../data_general/processed_data/all_trap_data_for_figs_3_4_5_6_7.csv')
trap_metadata <- read_csv('../data_station_meta/trap_metadata.csv')
trap_metadata <- read_csv('../../data_general/data_station_meta/trap_metadata.csv')
setwd("~/HDProjects/ChukchiCruise23/code/figures_finalized_code/summary_statistics/src")
source("~/HDProjects/ChukchiCruise23/code/figures_finalized_code/summary_statistics/src/compute_means_for_reporting.R", echo=TRUE)
#### Tables 1 and 2 ####
trap_metadata <- read_csv('../../data_general/data_station_meta/trap_metadata.csv')%>%
select(Deployment, Deploy_Date_Local, Recover_Date_Local) %>%
unique()
table_data <- data %>%
# left_join(., trap_metadata)%>%
select(Deployment, Trap_Depth, depthCat,
LATITUDE, LONGITUDE,
Deploy_Date_Local, Recover_Date_Local,
iceObsRecover, LateralDensityGrad,
fluxChl, fluxC, fluxN)%>%
mutate(depthCat_simple = ifelse(depthCat %in% c('shallow', 'iceTethered'), 'Shallow', 'Deep'),
.keep = 'unused')%>%
pivot_wider(names_from = depthCat_simple,
values_from = c(LATITUDE, LONGITUDE, Trap_Depth, LateralDensityGrad, fluxChl, fluxC, fluxN))
table_data <- data %>%
left_join(., trap_metadata)%>%
select(Deployment, Trap_Depth, depthCat,
LATITUDE, LONGITUDE,
Deploy_Date_Local, Recover_Date_Local,
iceObsRecover, LateralDensityGrad,
fluxChl, fluxC, fluxN)%>%
mutate(depthCat_simple = ifelse(depthCat %in% c('shallow', 'iceTethered'), 'Shallow', 'Deep'),
.keep = 'unused')%>%
pivot_wider(names_from = depthCat_simple,
values_from = c(LATITUDE, LONGITUDE, Trap_Depth, LateralDensityGrad, fluxChl, fluxC, fluxN))
View(data)
#### Tables 1 and 2 ####
trap_metadata <- read_csv('../../data_general/data_station_meta/trap_metadata.csv')%>%
select(Deployment, Sample_Number, Deploy_Date_Local, Recover_Date_Local) %>%
unique()
table_data <- data %>%
left_join(., trap_metadata)%>%
select(Deployment, Trap_Depth, depthCat,
LATITUDE, LONGITUDE,
Deploy_Date_Local, Recover_Date_Local,
iceObsRecover, LateralDensityGrad,
fluxChl, fluxC, fluxN)%>%
mutate(depthCat_simple = ifelse(depthCat %in% c('shallow', 'iceTethered'), 'Shallow', 'Deep'),
.keep = 'unused')%>%
pivot_wider(names_from = depthCat_simple,
values_from = c(LATITUDE, LONGITUDE, Trap_Depth, LateralDensityGrad, fluxChl, fluxC, fluxN))
table_data <- data %>%
left_join(., trap_metadata)%>%
select(Deployment, Trap_Depth, depthCat,
LATITUDE, LONGITUDE,
Deploy_Date_Local, Recover_Date_Local,
iceObsRecover, LateralDensityGrad,
fluxChl, fluxC, fluxN)%>%
mutate(depthCat_simple = ifelse(depthCat %in% c('shallow', 'iceTethered'), 'Shallow', 'Deep'),
.keep = 'unused')%>%
pivot_wider(names_from = depthCat_simple,
values_from = c(LATITUDE, LONGITUDE, Trap_Depth, LateralDensityGrad, fluxChl, fluxC, fluxN))
View(table_data)
table_data <- data %>%
left_join(., trap_metadata)%>%
mutate(depthCat_simple = ifelse(depthCat %in% c('shallow', 'iceTethered'), 'Shallow', 'Deep'),
.keep = 'unused')%>%
select(Deployment, Trap_Depth, depthCat_simple,
LATITUDE, LONGITUDE,
Deploy_Date_Local, Recover_Date_Local,
iceObsRecover, LateralDensityGrad,
fluxChl, fluxC, fluxN)%>%
pivot_wider(names_from = depthCat_simple,
values_from = c(LATITUDE, LONGITUDE, Trap_Depth, LateralDensityGrad, fluxChl, fluxC, fluxN))
View(table_data)
table_data <- data %>%
left_join(., trap_metadata)%>%
mutate(depthCat_simple = ifelse(depthCat %in% c('shallow', 'iceTethered'), 'Shallow', 'Deep'),
.keep = 'unused')%>%
select(Deployment, Trap_Depth, depthCat_simple,
LATITUDE, LONGITUDE,
Deploy_Date_Local, Recover_Date_Local,
iceObsRecover, LateralDensityGrad,
fluxChl, fluxC, fluxN)%>%
pivot_wider(names_from = depthCat_simple,
values_from = c(Trap_Depth, LateralDensityGrad, fluxChl, fluxC, fluxN))
View(table_data)
table_data <- data %>%
left_join(., trap_metadata)%>%
mutate(depthCat_simple = ifelse(depthCat %in% c('shallow', 'iceTethered'), 'Shallow', 'Deep'),
.keep = 'unused')%>%
select(Deployment, Trap_Depth, depthCat_simple,
LATITUDE, LONGITUDE,
Deploy_Date_Local, Recover_Date_Local,
iceObsRecover, LateralDensityGrad,
fluxChl, fluxC, fluxN)%>%
pivot_wider(names_from = depthCat_simple,
values_from = c(Trap_Depth, LateralDensityGrad, fluxChl, fluxC, fluxN))
View(trap_metadata)
#### Tables 1 and 2 ####
trap_metadata <- read_csv('../../data_general/data_station_meta/trap_metadata.csv')%>%
select(Deployment, Deploy_Date_Local, Recover_Date_Local) %>%
unique()
View(trap_metadata)
#### Tables 1 and 2 ####
table_metadata <- read_csv('../../data_general/data_station_meta/trap_metadata.csv')%>%
select(Deployment, Deploy_Date_Local, Recover_Date_Local) %>%
unique()%>%
right_join(., data)%>%
select(Deployment, LATITUDE, LONGITUDE, Deploy_Date_Local, Recover_Date_Local,)
View(table_metadata)
#### Tables 1 and 2 ####
table_metadata <- read_csv('../../data_general/data_station_meta/trap_metadata.csv')%>%
select(Deployment, Deploy_Date_Local, Recover_Date_Local) %>%
unique()%>%
right_join(., data)%>%
select(Deployment, LATITUDE, LONGITUDE, Deploy_Date_Local, Recover_Date_Local)%>%
drop_na()
#### Tables 1 and 2 ####
table_metadata <- read_csv('../../data_general/data_station_meta/trap_metadata.csv')%>%
select(Deployment, Deploy_Date_Local, Recover_Date_Local) %>%
unique()%>%
right_join(., data)%>%
select(Deployment, LATITUDE, LONGITUDE, Deploy_Date_Local, Recover_Date_Local)%>%
drop_na()%>%
unique()
View(table_metadata)
table_data <- data %>%
left_join(., trap_metadata)%>%
mutate(depthCat_simple = ifelse(depthCat %in% c('shallow', 'iceTethered'), 'Shallow', 'Deep'),
.keep = 'unused')%>%
select(Deployment, Trap_Depth, depthCat_simple,
iceObsRecover, LateralDensityGrad,
fluxChl, fluxC, fluxN)%>%
pivot_wider(names_from = depthCat_simple,
values_from = c(Trap_Depth, LateralDensityGrad, fluxChl, fluxC, fluxN))
source("~/HDProjects/ChukchiCruise23/code/figures_finalized_code/summary_statistics/src/compute_means_for_reporting.R", echo=TRUE)
View(data)
#### Tables 1 and 2 ####
lat_lon <- data %>%
select(Deployment, LATITUDE, LONGITUDE)
View(lat_lon)
#### Tables 1 and 2 ####
lat_lon <- data %>%
select(Deployment, LATITUDE, LONGITUDE)%>%
drop_na()%>%
unique()
View(lat_lon)
table_metadata <- read_csv('../../data_general/data_station_meta/trap_metadata.csv')%>%
select(Deployment, Deploy_Date_Local, Recover_Date_Local) %>%
unique()%>%
right_join(., lat_lon)%>%
select(Deployment, LATITUDE, LONGITUDE, Deploy_Date_Local, Recover_Date_Local)%>%
drop_na()%>%
unique()
View(table_metadata)
table_data <- data %>%
left_join(., trap_metadata)%>%
mutate(depthCat_simple = ifelse(depthCat %in% c('shallow', 'iceTethered'), 'Shallow', 'Deep'),
.keep = 'unused')%>%
select(Deployment, Trap_Depth, depthCat_simple,
iceObsRecover, LateralDensityGrad,
fluxChl, fluxC, fluxN)%>%
pivot_wider(names_from = depthCat_simple,
values_from = c(Trap_Depth, LateralDensityGrad, fluxChl, fluxC, fluxN))
table_data <- data %>%
left_join(., table_metadata)%>%
mutate(depthCat_simple = ifelse(depthCat %in% c('shallow', 'iceTethered'), 'Shallow', 'Deep'),
.keep = 'unused')%>%
select(Deployment, Trap_Depth, depthCat_simple,
iceObsRecover, LateralDensityGrad,
fluxChl, fluxC, fluxN)%>%
pivot_wider(names_from = depthCat_simple,
values_from = c(Trap_Depth, LateralDensityGrad, fluxChl, fluxC, fluxN))
table_data <- data %>%
mutate(depthCat_simple = ifelse(depthCat %in% c('shallow', 'iceTethered'), 'Shallow', 'Deep'),
.keep = 'unused')%>%
select(Deployment, Trap_Depth, depthCat_simple,
iceObsRecover, LateralDensityGrad,
fluxChl, fluxC, fluxN)%>%
pivot_wider(names_from = depthCat_simple,
values_from = c(Trap_Depth, LateralDensityGrad, fluxChl, fluxC, fluxN))
table_data <- data %>%
mutate(depthCat_simple = ifelse(depthCat %in% c('shallow', 'iceTethered'), 'Shallow', 'Deep'),
.keep = 'unused')%>%
select(Deployment, Trap_Depth, depthCat_simple,
iceObsRecover, LateralDensityGrad,
fluxChl, fluxC, fluxN)%>%
pivot_wider(names_from = depthCat_simple,
values_from = c(Trap_Depth, LateralDensityGrad, fluxChl, fluxC, fluxN))%>%
left_join(., table_metadata)
View(table_metadata)
colnames(table_data)
# t1 columns: Deployment, Trap_Depth, Lat, Lon, date, recover date, recover ice, Lateral Density Grad
# t2 columns: Deployment, Trap_Depth, fluxChl, fluxC, fluxN
# note: pivot Trap_Depth, LateralDensityGrad wider so shallow and deep are separate columns
table1 <- table_data %>%
select(Deployment, Trap_Depth_Shallow, Trap_Depth_Deep,
LATITUDE, LONGITUDE, Deploy_Date_Local, Recover_Date_Local,
iceObsRecover, LateralDensityGrad_Shallow, LateralDensityGrad_Deep)
View(table1)
table2 <- table_data %>%
select(Deployment, Trap_Depth_Shallow, Trap_Depth_Deep,
fluxChl_Shallow, fluxChl_Deep,
fluxC_Shallow, fluxChl_Deep,
fluxN_Shallow, fluxN_Deep)
mean_by_front <- data_slim %>%
# mutate(front = ifelse(depthCat == 'iceTethered', 'Ice-Tethered',
#                       ifelse(inFront == T, 'Front', 'Out of Front')))%>%
group_by(inFront)%>%
summarise(across(
c(LateralDensityGrad, depth,
dichlMean_full_waterCol_mg_m2, dipoc_full_waterCol_mg_m2, dipon_full_waterCol_mg_m2,
fluxChl, fluxPhaeo, fluxC, fluxN, CNratio),
list(mean = ~mean(.x, na.rm = TRUE),
sd = ~sd(.x, na.rm = TRUE)),
.names = "{.col}_{.fn}"
))%>%
mutate(GroupVar = 'Front All Data')
View(mean_by_front)
#### Means for Reporting ####
mean_by_ice <- mean_sd_by_ice <- data_slim %>%
mutate(group = iceObs)%>%
group_by(group) %>%
summarise(across(
c(LateralDensityGrad, depth,
dichlMean_full_waterCol_mg_m2, dipoc_full_waterCol_mg_m2, dipon_full_waterCol_mg_m2,
fluxChl, fluxPhaeo, fluxC, fluxN, CNratio),
list(mean = ~mean(.x, na.rm = TRUE),
sd = ~sd(.x, na.rm = TRUE)),
.names = "{.col}_{.fn}"
))%>%
mutate(GroupVar = 'Ice Coverage All Traps')
mean_by_ice_wcOnly <- data_slim_wcOnly %>%
mutate(group = iceObs)%>%
group_by(group) %>%
summarise(across(
c(LateralDensityGrad, depth,
dichlMean_full_waterCol_mg_m2, dipoc_full_waterCol_mg_m2, dipon_full_waterCol_mg_m2,
fluxChl, fluxPhaeo, fluxC, fluxN, CNratio),
list(mean = ~mean(.x, na.rm = TRUE),
sd = ~sd(.x, na.rm = TRUE)),
.names = "{.col}_{.fn}"
))%>%
mutate(GroupVar = 'Ice Coverage Water Column Traps')
mean_by_ice_tetheredOnly <- data_slim_tetheredOnly %>%
mutate(group = iceObs)%>%
group_by(group) %>%
summarise(across(
c(LateralDensityGrad, depth,
dichlMean_full_waterCol_mg_m2, dipoc_full_waterCol_mg_m2, dipon_full_waterCol_mg_m2,
fluxChl, fluxPhaeo, fluxC, fluxN, CNratio),
list(mean = ~mean(.x, na.rm = TRUE),
sd = ~sd(.x, na.rm = TRUE)),
.names = "{.col}_{.fn}"
))%>%
mutate(GroupVar = 'Ice-Tethered Traps (<8m) Only')
mean_by_front <- data_slim %>%
mutate(group = ifelse(inFront == T, 'In Front', 'Out of Front'))
mean_by_front <- data_slim %>%
mutate(group = ifelse(inFront == T, 'In Front', 'Out of Front'))%>%
# mutate(front = ifelse(depthCat == 'iceTethered', 'Ice-Tethered',
#                       ifelse(inFront == T, 'Front', 'Out of Front')))%>%
group_by(inFront)%>%
summarise(across(
c(LateralDensityGrad, depth,
dichlMean_full_waterCol_mg_m2, dipoc_full_waterCol_mg_m2, dipon_full_waterCol_mg_m2,
fluxChl, fluxPhaeo, fluxC, fluxN, CNratio),
list(mean = ~mean(.x, na.rm = TRUE),
sd = ~sd(.x, na.rm = TRUE)),
.names = "{.col}_{.fn}"
))%>%
mutate(GroupVar = 'Front All Data')
mean_by_front_tetheredSeparate <- data_slim %>%
# mutate(group = ifelse(inFront == T, 'In Front', 'Out of Front'))%>%
mutate(group = ifelse(depthCat == 'iceTethered', 'Ice-Tethered',
ifelse(inFront == T, 'Front', 'Out of Front')))%>%
group_by(group)%>%
summarise(across(
c(LateralDensityGrad, depth,
dichlMean_full_waterCol_mg_m2, dipoc_full_waterCol_mg_m2, dipon_full_waterCol_mg_m2,
fluxChl, fluxPhaeo, fluxC, fluxN, CNratio),
list(mean = ~mean(.x, na.rm = TRUE),
sd = ~sd(.x, na.rm = TRUE)),
.names = "{.col}_{.fn}"
))%>%
mutate(GroupVar = 'Front All Data')
mean_by_front <- data_slim %>%
mutate(group = ifelse(inFront == T, 'In Front', 'Out of Front'))%>%
# mutate(front = ifelse(depthCat == 'iceTethered', 'Ice-Tethered',
#                       ifelse(inFront == T, 'Front', 'Out of Front')))%>%
group_by(group)%>%
summarise(across(
c(LateralDensityGrad, depth,
dichlMean_full_waterCol_mg_m2, dipoc_full_waterCol_mg_m2, dipon_full_waterCol_mg_m2,
fluxChl, fluxPhaeo, fluxC, fluxN, CNratio),
list(mean = ~mean(.x, na.rm = TRUE),
sd = ~sd(.x, na.rm = TRUE)),
.names = "{.col}_{.fn}"
))%>%
mutate(GroupVar = 'Front All Data')
mean_by_front_tetheredSeparate <- data_slim %>%
# mutate(group = ifelse(inFront == T, 'In Front', 'Out of Front'))%>%
mutate(group = ifelse(depthCat == 'iceTethered', 'Ice-Tethered',
ifelse(inFront == T, 'Front', 'Out of Front')))%>%
group_by(group)%>%
summarise(across(
c(LateralDensityGrad, depth,
dichlMean_full_waterCol_mg_m2, dipoc_full_waterCol_mg_m2, dipon_full_waterCol_mg_m2,
fluxChl, fluxPhaeo, fluxC, fluxN, CNratio),
list(mean = ~mean(.x, na.rm = TRUE),
sd = ~sd(.x, na.rm = TRUE)),
.names = "{.col}_{.fn}"
))%>%
mutate(GroupVar = 'Front All Data')
allSummaryStats <- bind_rows(mean_by_front, mean_by_front_tetheredSeparate, mean_by_ice, mean_by_ice_tetheredOnly, mean_by_ice_wcOnly)
View(allSummaryStats)
source("~/HDProjects/ChukchiCruise23/code/figures_finalized_code/summary_statistics/src/compute_means_for_reporting.R", echo=TRUE)
View(allSummaryStats)
allSummaryStats <- bind_rows(mean_by_front, mean_by_front_tetheredSeparate, mean_by_ice, mean_by_ice_tetheredOnly, mean_by_ice_wcOnly)%>%
select(GroupVar, everything())
View(allSummaryStats)
write_csv(allSummaryStats, '../summary_statistics.csv')
table_data <- data %>%
mutate(depthCat_simple = ifelse(depthCat %in% c('shallow', 'iceTethered'), 'Shallow', 'Deep'),
.keep = 'unused')%>%
select(Deployment, Trap_Depth, depthCat_simple,
iceObs, iceObsRecover, LateralDensityGrad,
fluxChl, fluxC, fluxN)%>%
pivot_wider(names_from = depthCat_simple,
values_from = c(Trap_Depth, LateralDensityGrad, fluxChl, fluxC, fluxN))%>%
left_join(., table_metadata)
source("~/HDProjects/ChukchiCruise23/code/figures_finalized_code/summary_statistics/src/compute_means_for_reporting.R", echo=TRUE)
# t1 columns: Deployment, Trap_Depth, Lat, Lon, date, recover date, recover ice, Lateral Density Grad
# t2 columns: Deployment, Trap_Depth, fluxChl, fluxC, fluxN
# note: pivot Trap_Depth, LateralDensityGrad wider so shallow and deep are separate columns
table1 <- table_data %>%
select(iceObs, Deployment, Trap_Depth_Shallow, Trap_Depth_Deep,
LATITUDE, LONGITUDE, Deploy_Date_Local, Recover_Date_Local,
iceObsRecover, LateralDensityGrad_Shallow, LateralDensityGrad_Deep)
table2 <- table_data %>%
select(iceObs, Deployment, Trap_Depth_Shallow, Trap_Depth_Deep,
fluxChl_Shallow, fluxChl_Deep,
fluxC_Shallow, fluxChl_Deep,
fluxN_Shallow, fluxN_Deep)
#### Write CSV files ####
write_csv(table1, '../tables/table1.csv')
write_csv(table2, '../tables/table2.csv')
source("~/HDProjects/ChukchiCruise23/code/figures_finalized_code/summary_statistics/src/compute_means_for_reporting.R", echo=TRUE)
table_data <- data %>%
mutate(depthCat_simple = ifelse(depthCat %in% c('shallow', 'iceTethered'), 'Shallow', 'Deep'),
.keep = 'unused')%>%
select(Deployment, Trap_Depth, depthCat_simple,
iceObs, iceObsRecover, LateralDensityGrad,
fluxChl, fluxC, fluxN)%>%
pivot_wider(names_from = depthCat_simple,
values_from = c(Trap_Depth, LateralDensityGrad, fluxChl, fluxC, fluxN))%>%
left_join(., table_metadata)%>%
mutate(iceTethered = ifelse(Trap_Depth_Shallow <= 8, 'Ice-Tethered', 'Water Col'))
# t1 columns: Deployment, Trap_Depth, Lat, Lon, date, recover date, recover ice, Lateral Density Grad
# t2 columns: Deployment, Trap_Depth, fluxChl, fluxC, fluxN
# note: pivot Trap_Depth, LateralDensityGrad wider so shallow and deep are separate columns
table1 <- table_data %>%
select(iceObs, Deployment, Trap_Depth_Shallow, Trap_Depth_Deep,
LATITUDE, LONGITUDE, Deploy_Date_Local, Recover_Date_Local,
iceObsRecover, LateralDensityGrad_Shallow, LateralDensityGrad_Deep)
table2 <- table_data %>%
select(iceObs, iceTethered, Deployment, Trap_Depth_Shallow, Trap_Depth_Deep,
fluxChl_Shallow, fluxChl_Deep,
fluxC_Shallow, fluxChl_Deep,
fluxN_Shallow, fluxN_Deep)
#### Write CSV files ####
write_csv(table1, '../tables/table1.csv')
write_csv(table2, '../tables/table2.csv')
source("~/HDProjects/ChukchiCruise23/code/figures_finalized_code/summary_statistics/src/compute_means_for_reporting.R", echo=TRUE)
